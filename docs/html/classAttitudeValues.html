<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SignalK-Orientation: AttitudeValues Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SignalK-Orientation
   &#160;<span id="projectnumber">0.1.2</span>
   </div>
   <div id="projectbrief">Orientation output in Signal K format for ESP8266 and ESP32</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classAttitudeValues-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AttitudeValues Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classAttitudeValues.html" title="AttitudeValues reads and outputs attitude (yaw,pitch,roll) parameters.">AttitudeValues</a> reads and outputs attitude (yaw,pitch,roll) parameters.  
 <a href="classAttitudeValues.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="orientation__sensor_8h_source.html">orientation_sensor.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for AttitudeValues:</div>
<div class="dyncontent">
<div class="center"><img src="classAttitudeValues__inherit__graph.png" border="0" usemap="#AttitudeValues_inherit__map" alt="Inheritance graph"/></div>
<map name="AttitudeValues_inherit__map" id="AttitudeValues_inherit__map">
<area shape="rect" title="AttitudeValues reads and outputs attitude (yaw,pitch,roll) parameters." alt="" coords="73,80,191,107"/>
<area shape="rect" title=" " alt="" coords="5,5,136,32"/>
<area shape="rect" title=" " alt="" coords="160,5,227,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for AttitudeValues:</div>
<div class="dyncontent">
<div class="center"><img src="classAttitudeValues__coll__graph.png" border="0" usemap="#AttitudeValues_coll__map" alt="Collaboration graph"/></div>
<map name="AttitudeValues_coll__map" id="AttitudeValues_coll__map">
<area shape="rect" title="AttitudeValues reads and outputs attitude (yaw,pitch,roll) parameters." alt="" coords="181,95,299,121"/>
<area shape="rect" title=" " alt="" coords="5,5,136,32"/>
<area shape="rect" title=" " alt="" coords="160,5,227,32"/>
<area shape="rect" href="structAttitude.html" title=" " alt="" coords="251,5,325,32"/>
<area shape="rect" href="classOrientationSensor.html" title="OrientationSensor represents a 9&#45;Degrees&#45;of&#45;Freedom sensor (magnetometer, accelerometer,..." alt="" coords="349,5,488,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2bcf8964a0afb04652c0859ac9d557e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAttitudeValues.html#a2bcf8964a0afb04652c0859ac9d557e6">AttitudeValues</a> (<a class="el" href="classOrientationSensor.html">OrientationSensor</a> *orientation_sensor, uint report_interval_ms=100, String config_path=&quot;&quot;)</td></tr>
<tr class="memdesc:a2bcf8964a0afb04652c0859ac9d557e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor sets up the frequency of output and the Signal K path.  <a href="classAttitudeValues.html#a2bcf8964a0afb04652c0859ac9d557e6">More...</a><br /></td></tr>
<tr class="separator:a2bcf8964a0afb04652c0859ac9d557e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e7ee49383d0984a2146b331d3f34b87"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAttitudeValues.html#a5e7ee49383d0984a2146b331d3f34b87">enable</a> () override final</td></tr>
<tr class="memdesc:a5e7ee49383d0984a2146b331d3f34b87"><td class="mdescLeft">&#160;</td><td class="mdescRight">starts periodic outputs of <a class="el" href="structAttitude.html">Attitude</a>  <a href="classAttitudeValues.html#a5e7ee49383d0984a2146b331d3f34b87">More...</a><br /></td></tr>
<tr class="separator:a5e7ee49383d0984a2146b331d3f34b87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab40bde3c1cfd3c202f10e42168905653"><td class="memItemLeft" align="right" valign="top"><a id="ab40bde3c1cfd3c202f10e42168905653"></a>
<a class="el" href="classOrientationSensor.html">OrientationSensor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAttitudeValues.html#ab40bde3c1cfd3c202f10e42168905653">orientation_sensor_</a></td></tr>
<tr class="memdesc:ab40bde3c1cfd3c202f10e42168905653"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the orientation sensor. <br /></td></tr>
<tr class="separator:ab40bde3c1cfd3c202f10e42168905653"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a54cc69a0c69ae09c6fe683df90fbc2c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAttitudeValues.html#a54cc69a0c69ae09c6fe683df90fbc2c7">Update</a> (void)</td></tr>
<tr class="memdesc:a54cc69a0c69ae09c6fe683df90fbc2c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">fetches current attitude and notifies consumer  <a href="classAttitudeValues.html#a54cc69a0c69ae09c6fe683df90fbc2c7">More...</a><br /></td></tr>
<tr class="separator:a54cc69a0c69ae09c6fe683df90fbc2c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b6b5bb5c36630f2bb6b306bebf2a3f3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAttitudeValues.html#a4b6b5bb5c36630f2bb6b306bebf2a3f3">get_configuration</a> (JsonObject &amp;doc) override</td></tr>
<tr class="memdesc:a4b6b5bb5c36630f2bb6b306bebf2a3f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current sensor configuration and place it in a JSON object that can then be stored in non-volatile memory.  <a href="classAttitudeValues.html#a4b6b5bb5c36630f2bb6b306bebf2a3f3">More...</a><br /></td></tr>
<tr class="separator:a4b6b5bb5c36630f2bb6b306bebf2a3f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1219e593fc9f9d16208e4f079ab1416a"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAttitudeValues.html#a1219e593fc9f9d16208e4f079ab1416a">set_configuration</a> (const JsonObject &amp;config) override</td></tr>
<tr class="memdesc:a1219e593fc9f9d16208e4f079ab1416a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use the values stored in JSON object config to update the appropriate member variables.  <a href="classAttitudeValues.html#a1219e593fc9f9d16208e4f079ab1416a">More...</a><br /></td></tr>
<tr class="separator:a1219e593fc9f9d16208e4f079ab1416a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf9d7dc60f400d5f20ff06887084cd53"><td class="memItemLeft" align="right" valign="top"><a id="adf9d7dc60f400d5f20ff06887084cd53"></a>
virtual String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAttitudeValues.html#adf9d7dc60f400d5f20ff06887084cd53">get_config_schema</a> () override</td></tr>
<tr class="memdesc:adf9d7dc60f400d5f20ff06887084cd53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the JSON format used for holding the configuration. <br /></td></tr>
<tr class="separator:adf9d7dc60f400d5f20ff06887084cd53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a49e0a34ea76dee6c983e556ed73d6b2e"><td class="memItemLeft" align="right" valign="top"><a id="a49e0a34ea76dee6c983e556ed73d6b2e"></a>
<a class="el" href="structAttitude.html">Attitude</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAttitudeValues.html#a49e0a34ea76dee6c983e556ed73d6b2e">attitude_</a></td></tr>
<tr class="memdesc:a49e0a34ea76dee6c983e556ed73d6b2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">struct storing the current yaw,pitch,roll values <br /></td></tr>
<tr class="separator:a49e0a34ea76dee6c983e556ed73d6b2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8dab3b336fdd50b956e27b3a1b41759"><td class="memItemLeft" align="right" valign="top"><a id="af8dab3b336fdd50b956e27b3a1b41759"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAttitudeValues.html#af8dab3b336fdd50b956e27b3a1b41759">report_interval_ms_</a></td></tr>
<tr class="memdesc:af8dab3b336fdd50b956e27b3a1b41759"><td class="mdescLeft">&#160;</td><td class="mdescRight">interval between attitude updates to Signal K <br /></td></tr>
<tr class="separator:af8dab3b336fdd50b956e27b3a1b41759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc90fecd895bf9a4cad9e042ec9d7162"><td class="memItemLeft" align="right" valign="top"><a id="abc90fecd895bf9a4cad9e042ec9d7162"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAttitudeValues.html#abc90fecd895bf9a4cad9e042ec9d7162">save_mag_cal_</a></td></tr>
<tr class="memdesc:abc90fecd895bf9a4cad9e042ec9d7162"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag for saving current magnetic calibration. <br /></td></tr>
<tr class="separator:abc90fecd895bf9a4cad9e042ec9d7162"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classAttitudeValues.html" title="AttitudeValues reads and outputs attitude (yaw,pitch,roll) parameters.">AttitudeValues</a> reads and outputs attitude (yaw,pitch,roll) parameters. </p>
<p>The three parameters are stored in an <a class="el" href="structAttitude.html">Attitude</a> struct, and sent together in one Signal K message. The units are radians. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a2bcf8964a0afb04652c0859ac9d557e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bcf8964a0afb04652c0859ac9d557e6">&#9670;&nbsp;</a></span>AttitudeValues()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AttitudeValues::AttitudeValues </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classOrientationSensor.html">OrientationSensor</a> *&#160;</td>
          <td class="paramname"><em>orientation_sensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>report_interval_ms</em> = <code>100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>config_path</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor sets up the frequency of output and the Signal K path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">orientation_sensor</td><td>Pointer to the physical sensor's interface </td></tr>
    <tr><td class="paramname">report_interval_ms</td><td>Interval between output reports </td></tr>
    <tr><td class="paramname">config_path</td><td>RESTful path by which reporting frequency can be configured. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5e7ee49383d0984a2146b331d3f34b87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e7ee49383d0984a2146b331d3f34b87">&#9670;&nbsp;</a></span>enable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AttitudeValues::enable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>starts periodic outputs of <a class="el" href="structAttitude.html">Attitude</a> </p>
<p>Starts periodic output of <a class="el" href="structAttitude.html">Attitude</a> parameters.</p>
<p>The <a class="el" href="classAttitudeValues.html#a5e7ee49383d0984a2146b331d3f34b87" title="starts periodic outputs of Attitude">enable()</a> function is inherited from Sensor::, and is automatically called when the SensESP app starts. </p>

</div>
</div>
<a id="a4b6b5bb5c36630f2bb6b306bebf2a3f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b6b5bb5c36630f2bb6b306bebf2a3f3">&#9670;&nbsp;</a></span>get_configuration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AttitudeValues::get_configuration </td>
          <td>(</td>
          <td class="paramtype">JsonObject &amp;&#160;</td>
          <td class="paramname"><em>doc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the current sensor configuration and place it in a JSON object that can then be stored in non-volatile memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">doc</td><td>JSON object to contain the configuration parameters to be updated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1219e593fc9f9d16208e4f079ab1416a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1219e593fc9f9d16208e4f079ab1416a">&#9670;&nbsp;</a></span>set_configuration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool AttitudeValues::set_configuration </td>
          <td>(</td>
          <td class="paramtype">const JsonObject &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Use the values stored in JSON object config to update the appropriate member variables. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>JSON object containing the configuration parameters to be updated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if successful; False if a parameter could not be found. </dd></dl>

</div>
</div>
<a id="a54cc69a0c69ae09c6fe683df90fbc2c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54cc69a0c69ae09c6fe683df90fbc2c7">&#9670;&nbsp;</a></span>Update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AttitudeValues::Update </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>fetches current attitude and notifies consumer </p>
<p>Provides one <a class="el" href="structAttitude.html">Attitude</a> reading from the orientation sensor.</p>
<p>Readings are obtained using the sensor fusion library's Get_() methods and assigned to the output variable that passes data from Producers to Consumers. Consumers of the attitude data are then informed by the call to notify(). If data are not valid (e.g. sensor not functioning), a struct member is set to false so when the Signal K message contents are assembled by as_signalk(),they can reflect that. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="orientation__sensor_8h_source.html">orientation_sensor.h</a></li>
<li>src/<a class="el" href="orientation__sensor_8cpp.html">orientation_sensor.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
